<div class="component-root">
  @for (selection of attestationsSelection; track selection) {
    <mat-card appearance="outlined">
      <mat-card-header>
        <mat-card-title>{{ nameOf(selection.type) }}</mat-card-title>
        <mat-card-subtitle>
          in <i> {{ selection.format }} </i> format</mat-card-subtitle
          >
        </mat-card-header>
        <mat-card-actions align="end">
          @if (isSelectable(selection)) {
            <button
              mat-stroked-button
              matBadgeColor="accent"
              matBadge="{{ fieldsSelectedNo(selection) }}"
              [matBadgeHidden]="!canShowFieldsSelected(selection.type)"
          (click)="
            popAttributesSelector(
              selection.format!,
              selection.type,
              nameOf(selection.type)
            )
          "
              >
              Select Attributes
            </button>
          }
          @if (!isSelectable(selection)) {
            <button
              mat-button
              matBadgeColor="accent"
              matBadge="{{ fieldsSelectedNo(selection) }}"
              [disabled]="true"
              >
              All Attributes selected
            </button>
          }
        </mat-card-actions>
      </mat-card>
    }
  </div>
